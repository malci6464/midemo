<!DOCTYPE html><html lang="en" class="antialiased break-words"> <head><!-- High Priority Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>RAG -&gt; stop hallucinations! | malcolmisaacs.com</title><meta name="generator" content="Astro v4.12.2"><!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400..700&family=Newsreader:ital,opsz,wght@0,6..72,400..700;1,6..72,400..700&display=swap" rel="stylesheet"><!-- Low Priority Global Metadata --><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="RSS"><!-- Page Metadata --><link rel="canonical" href="https://example.com/blog/post-3/"><meta name="description" content="Using them in a RAG architecture brings some different constraints to the table. I think the biggest one is the expectation, especially in a corporate setting, for being factual. But this is not the strength of an LLM. In fact many have deemed the ‘hallucination problem’ a feature and not a bug...."><!-- Open Graph / Facebook --><meta property="og:type" content="article"><meta property="og:url" content="https://example.com/blog/post-3/"><meta property="og:title" content="RAG -> stop hallucinations! | malcolmisaacs.com"><meta property="og:description" content="Using them in a RAG architecture brings some different constraints to the table. I think the biggest one is the expectation, especially in a corporate setting, for being factual. But this is not the strength of an LLM. In fact many have deemed the ‘hallucination problem’ a feature and not a bug...."><meta property="og:image" content="https://example.com/steve.jpg"><meta property="og:image:alt" content="steve jobs"><!-- X/Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://example.com/blog/post-3/"><meta property="twitter:title" content="RAG -> stop hallucinations! | malcolmisaacs.com"><meta property="twitter:description" content="Using them in a RAG architecture brings some different constraints to the table. I think the biggest one is the expectation, especially in a corporate setting, for being factual. But this is not the strength of an LLM. In fact many have deemed the ‘hallucination problem’ a feature and not a bug...."><meta property="twitter:image" content="https://example.com/steve.jpg"><meta name="twitter:image:alt" content="steve jobs"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/_slug_.D-zCa2WL.css"><script type="module" src="/_astro/hoisted.BSkmva3x.js"></script></head> <body class="bg-main text-main"> <div class="flex flex-col min-h-screen px-4 md:px-8"> <nav class="min-h-10 pt-4 pb-12 relative sm:min-h-14 sm:pb-24 md:pt-8" data-astro-cid-dmqpwcec> <div class="w-full max-w-3xl mx-auto relative" data-astro-cid-dmqpwcec> <button class="menu-toggle w-8 h-8 -ml-1 flex items-center justify-center relative z-30 md:hidden" aria-label="Open Menu" aria-expanded="false" aria-controls="menu-items" data-astro-cid-dmqpwcec> <span class="menu-toggle-icon w-6 h-px relative bg-current" data-astro-cid-dmqpwcec></span> </button> <ul id="menu-items" class="menu flex gap-6" data-astro-cid-dmqpwcec> <li class="py-1" data-astro-cid-dmqpwcec> <a class="text-xl font-serif text-main hover:underline hover:underline-offset-2 hover:decoration-1 md:text-base" href="/" data-astro-cid-dmqpwcec> Home </a> </li><li class="py-1" data-astro-cid-dmqpwcec> <a class="text-xl font-serif text-main hover:underline hover:underline-offset-2 hover:decoration-1 md:text-base" href="/blog" data-astro-cid-dmqpwcec> Blog </a> </li><li class="py-1" data-astro-cid-dmqpwcec> <a class="text-xl font-serif text-main hover:underline hover:underline-offset-2 hover:decoration-1 md:text-base" href="/tags" data-astro-cid-dmqpwcec> Tags </a> </li> </ul> </div> <div class="absolute right-0 top-4 z-10 md:top-8" data-astro-cid-dmqpwcec> <button id="theme-toggle" class="w-8 h-8 -mr-2 flex items-center justify-center" aria-label="Change color scheme"> <svg class="w-4 h-4 fill-current" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"> <circle cx="8" cy="8" r="8"></circle> </svg> </button>   </div> </nav>    <main class="grow w-full max-w-3xl mx-auto">  <article class="mb-16 sm:mb-24"> <header class="mb-8"> <h1 class="text-3xl leading-tight font-serif font-medium sm:text-5xl sm:leading-tight">RAG -&gt; stop hallucinations!</h1> <div class="mt-4 text-sm"> <time datetime="2024-08-17T22:00:00.000Z"> August 18, 2024 </time>  </div> </header> <div class="max-w-none prose prose-dante sm:prose-md"> <h1 id="rag---stop-hallucinations">RAG -> stop hallucinations!</h1>
<p>Working with LLM’s is interesting. Using them in a RAG architecture brings some different constraints to the table. I think the biggest one is the expectation, especially in a corporate setting, for being factual. But this is not the strength of an LLM. In fact many have deemed the ‘hallucination problem’ a feature and not a bug (see this paper from 2023 - <a href="https://arxiv.org/pdf/2310.01469">https://arxiv.org/pdf/2310.01469</a>).</p>
<p>There are many strategies to take, many layers of solutions that each retrieval and generation event can employ, to avoid hallucinating. A key factor is how much risk is involved - said another way - how much penalty may there be for being wrong?</p>
<p>I think there are two main strategies that a developer may take to minimise or remove risk.</p>
<ul>
<li>
<p>1 * - Always return a source alongside the answer. For example, “Your answer was generated using page 74 of document X.” And also clearly stating the answer needs to be verified.</p>
</li>
<li>
<p>2 * - To remove all risk (yet severely limit the breadth of material you can release), you can generate synthetic question and answer pairs to your data. Before release each answer would need to be approved but this is much faster than manually generating the Q and A pairs. Then it’s simply a case of matching the users question to questions that exist in the database. Cosine similarity works well here with tailored responses based on the distance.</p>
</li>
</ul>
<p>This note was prompted by learning about a popular RAG company ‘groundX’. They employ some interesting techniques in this area and claim much better results over simple RAG’s using only vector DB’s. Here’s an article I found (<a href="https://medium.com/@groundx-ai/why-llms-like-gpt-hallucinate-with-your-private-data-and-what-you-can-do-about-it-f0d1dc60fdbf">https://medium.com/@groundx-ai/why-llms-like-gpt-hallucinate-with-your-private-data-and-what-you-can-do-about-it-f0d1dc60fdbf</a>)</p> </div> <div class="mt-8 flex flex-wrap items-center gap-6 text-sm justify-between sm:mt-12 sm:text-base"> <div class="flex flex-wrap gap-x-5 gap-y-1 text-sm"> <a class="text-main hover:underline" href="/tags/rag-hallucinations">
#RAG, hallucinations </a> </div> <button class="inline-flex items-center justify-center px-6 py-2 font-serif text-sm leading-tight italic  text-main bg-main border border-main rounded-full transition hover:bg-muted copy-url-button" aria-label="Copy link" data-url="https://example.com/blog/post-3/" data-tooltip-default="Copy link" data-tooltip-success="Copied">Share</button> </div> </article> <div class="my-16 sm:my-24"> <h2 class="mb-12 text-xl font-serif italic sm:mb-16 sm:text-2xl">Read Next</h2> <a class="flex justify-between items-start gap-8 group mb-10 sm:mb-12" href="/blog/post-2/"> <div class="grow"> <h3 class="text-xl leading-tight font-serif font-medium group-hover:underline group-hover:decoration-dashed group-hover:underline-offset-4 group-hover:decoration-1 sm:text-2xl">Software 2.0</h3> <div class="mt-1 text-sm leading-normal"> <time datetime="2024-08-17T22:00:00.000Z"> August 18, 2024 </time>  </div> <div class="mt-3 text-sm leading-normal">In Software 2.0 most often the source code comprises the dataset that defines the desirable behavior....</div> </div> <div class="hidden font-serif italic opacity-0 transition group-hover:opacity-100 sm:inline-flex sm:gap-1 sm:items-center sm:shrink-0">
Read Post <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current w-4 h-4"> <path d="M4.286 12c0-0.533 0.432-0.964 0.964-0.964v0h11.172l-4.14-4.138c-0.175-0.175-0.283-0.416-0.283-0.683 0-0.533 0.432-0.965 0.965-0.965 0.267 0 0.508 0.108 0.683 0.283v0l5.785 5.785c0.175 0.175 0.283 0.416 0.283 0.683s-0.108 0.508-0.283 0.683l-5.785 5.785c-0.175 0.175-0.416 0.283-0.683 0.283-0.533 0-0.965-0.432-0.965-0.965 0-0.267 0.108-0.508 0.283-0.683v0l4.14-4.138h-11.172c-0.533 0-0.964-0.432-0.964-0.964v0z"></path> </svg> </div> </a>  </div>  </main> <footer class="w-full max-w-3xl mx-auto pt-12 pb-10 sm:pt-24 sm:pb-14">  <div class="pt-6 flex flex-col gap-4 border-t border-dashed border-main">  <p class="text-sm">
&copy; 2024&nbsp;<a class="hover:underline hover:underline-offset-2" href="/">malcolmisaacs.com</a>. All rights reserved.
</p> </div> </footer> </div> </body></html> 